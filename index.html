<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Duino-Coin | Web Wallet</title>
    <!-- SEO Stuff -->
    <meta name="description" content="Duino-Coin Web Wallet">
    <meta name="keywords" content="Wallet, webWallet, duinocoin, duco, duco webWallet, web Wallet">
    <link rel="canonical" href="http://51.15.127.80/webwallet.html" />
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#f0932b">
    <!-- Open Graph Metadata -->
    <meta property="og:site_name" content="Duino-Coin Web Wallet" />
    <meta property="og:site" content="https://wallet.duinocoin.com" />
    <meta property="og:title" content="Duino-Coin Web Wallet" />
    <meta property="og:description" content="Duino-Coin Web Wallet" />
    <meta property="og:image" content="https://github.com/revoxhere/duino-coin/blob/master/Resources/NewWallet.ico?raw=true" />
    <meta property="og:url" content="https://wallet.duinocoin.com" />
    <meta property="og:type" content="website" />
    <!-- Twitter Metadata -->
    <meta name="twitter:title" content="Duino-Coin Web Wallet">
    <meta name="twitter:description" content="Duino-Coin Web Wallet">
    <meta name="twitter:image" content="https://github.com/revoxhere/duino-coin/blob/master/Resources/NewWallet.ico?raw=true">
    <meta name="twitter:site" content="@CoinDuino">
    <meta name="twitter:creator" content="@CoinDuino">
    <link rel="icon" href="https://github.com/revoxhere/duino-coin/blob/master/Resources/NewWallet.ico?raw=true" type="image/png" />
    <link rel="shortcut icon" href="https://github.com/revoxhere/duino-coin/blob/master/Resources/NewWallet.ico?raw=true" type="image/png" />
    <!-- Preload Background Images -->
    <link rel="preload" as="image" href="https://i.imgur.com/trNkG47.png">
    <link rel="preload" as="image" href="https://i.imgur.com/MWknhr6.png">
    <link rel="preload" as="image" href="https://i.imgur.com/K1qr6tC.png">
    <link rel="preload" as="image" href="https://i.imgur.com/oYEEfLG.png">
    <link rel="preload" as="image" href="https://i.imgur.com/7d11Dyg.png">
    <link rel="preload" as="image" href="https://i.imgur.com/HzPgf7J.jpg">
    <link rel="preload" as="image" href="https://i.imgur.com/tS7AgjN.png">
    <link rel="preload" as="image" href="https://i.imgur.com/PsUqgsD.png">
    <link rel="preload" as="image" href="https://i.imgur.com/F8yZquq.png">
    <link rel="preload" as="image" href="https://i.imgur.com/g7fqQbn.png">
    <link rel="preload" as="image" href="https://i.imgur.com/KKNKajB.png">
    <!-- Bulma -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-pageloader@0.3.0/dist/css/bulma-pageloader.min.css">
    <link rel="stylesheet" id="dark" disabled="true" type="text/css" href="https://unpkg.com/bulma-prefers-dark">
    <link rel="stylesheet" id="crisp" disabled="true" type="text/css" href="https://jenil.github.io/bulmaswatch/journal/bulmaswatch.min.css">
    <link rel="stylesheet" id="radiate" disabled="true" type="text/css" href="https://jenil.github.io/bulmaswatch/nuclear/bulmaswatch.min.css">
    <link rel="stylesheet" id="alt" disabled="true" type="text/css" href="https://jenil.github.io/bulmaswatch/materia/bulmaswatch.min.css">
    <link rel="stylesheet" id="material" disabled="true" type="text/css" href="https://jenil.github.io/bulmaswatch/cosmo/bulmaswatch.min.css">
    <style>
        .is-primary {
            /* Override Bulmas primary color to Duco-Colored gradient*/
            background: linear-gradient(145deg, #fd746c, #ff9068) !important;
        }
        .is-duco {
            background: #fdcb6e !important;
        }
        .iframe-container {
            position: relative;
            width: 100%;
            padding-bottom: 50%;
            background: lightgrey;
        }

        .iframe-container iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 1px solid red;
        }

        body {
            background-size: cover !important;
            background-attachment: fixed !important;
            width: 100% !important;
            min-height: -webkit-fill-available;
            overflow-x: hidden !important;
            margin: 0 !important;
            padding: 0 !important;
            background-repeat: no-repeat !important;
        }
        .balanceT {
            max-width: 80vw !important;
            max-height: 15em !important;
            overflow-x: scroll !important;
            overflow-y: scroll !important;
        }
        .balanceT table {
            margin: 0;
            padding: 0;
            border: 1px solid var(--light-bg);
            border-collapse: collapse;
        }
        .balanceTC .caption {
            font-size: 1.5em !important;
            margin: .5em 0 .5em;
        }
        .balanceT table tr {
            background-color: var(--hover) !important;
            border: 1px solid var(--light-bg) !important;
            padding: .35em !important;
        }
        .balanceT table th,
        .balanceT table td {
            padding: .5em !important;
            text-align: left !important;
        }
        .balanceT table th {
            letter-spacing: .1em !important;
            text-transform: uppercase !important;
        }
        ::-webkit-scrollbar {
            width: 5px;
            height: 5px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        select {
            background: inherit !important;
        }
    </style>
    <!-- JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js" integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <!-- WebWallet -->
    <script type="text/javascript">
    let versionReceived = false;
    let loggedIn = false;
    let clickcount = 0;
    let balance = 0;
    let curr_bal = 0;
    let profitcheck = 0;
    let ducoUsdPrice = 0.0065;
    let sending = false;
    let counter = 0;
    let daily_average = [];

    window.addEventListener('load', function() {
        document.getElementById("loginstatus").innerHTML = "";

        // RANDOM BACKGROUND
        const bg_list = [
            'https://i.imgur.com/trNkG47.png',
            'https://i.imgur.com/MWknhr6.png',
            'https://i.imgur.com/oYEEfLG.png',
            'https://i.imgur.com/7d11Dyg.png',
            'https://i.imgur.com/K1qr6tC.png',
            'https://i.imgur.com/g7fqQbn.png',
            'https://i.imgur.com/F8yZquq.png',
            'https://i.imgur.com/PsUqgsD.png',
            'https://i.imgur.com/tS7AgjN.png',
            'https://i.imgur.com/HzPgf7J.jpg'
        ]

        let num = Math.ceil(Math.random() * bg_list.length);
        document.body.background = bg_list[num];

        // THEME SWITCHER
        let themesel = document.getElementById('themesel');
        themesel.addEventListener('input', updateValue);

        function updateValue(e) {
            theme = e.target.value;

            if (theme == "dark") {
                $('#dark').attr('disabled', false);
                $('#radiate').attr('disabled', true);
                $('#alt').attr('disabled', true);
                $('#crisp').attr('disabled', true);
                $('#material').attr('disabled', true);
            }
            if (theme == "radiance") {
                $('#dark').attr('disabled', true);
                $('#radiate').attr('disabled', false);
                $('#alt').attr('disabled', true);
                $('#crisp').attr('disabled', true);
                $('#material').attr('disabled', true);
            }
            if (theme == "altlight") {
                $('#dark').attr('disabled', true);
                $('#radiate').attr('disabled', true);
                $('#alt').attr('disabled', false);
                $('#crisp').attr('disabled', true);
                $('#material').attr('disabled', true);
            }
            if (theme == "light") {
                $('#dark').attr('disabled', true);
                $('#radiate').attr('disabled', true);
                $('#alt').attr('disabled', true);
                $('#crisp').attr('disabled', true);
                $('#material').attr('disabled', true);
            }
            if (theme == "crisp") {
                $('#dark').attr('disabled', true);
                $('#radiate').attr('disabled', true);
                $('#alt').attr('disabled', true);
                $('#crisp').attr('disabled', false);
                $('#material').attr('disabled', true);
            }
            if (theme == "material") {
                $('#dark').attr('disabled', true);
                $('#radiate').attr('disabled', true);
                $('#alt').attr('disabled', true);
                $('#crisp').attr('disabled', true);
                $('#material').attr('disabled', false);
            }
        }


        // PRICE FROM API
        const GetData = () => {
            $.getJSON('https://server.duinocoin.com/statistics', function(data) {
                ducoUsdPrice = data["Duco price"];
                document.getElementById("ducousd")
                    .innerHTML = "$" + (ducoUsdPrice).toFixed(4);
            });
        };

        // HASHRATE PREFIX CALCULATOR
        let totalHashes = 0;
        const calculateHashrate = (hashes) => {
            hashes = parseFloat(hashes);
            let hashrate = hashes.toFixed(2) + " H/s";

            if (hashes / 1000 > 0.5) hashrate = (hashes / 1000).toFixed(2) + " kH/s";
            if (hashes / 1000000 > 0.5)
                hashrate = (hashes / 1000000).toFixed(2) + " MH/s";
            if (hashes / 1000000000 > 0.5)
                hashrate = (hashes / 1000000000).toFixed(2) + " GH/s";

            return hashrate;
        };

        //USER DATA FROM API
        const UserData = (username) => {
            $.getJSON('https://server.duinocoin.com/users/' + username, function(data) {
                balance = parseFloat(data.result.balance.balance);
                balanceusd = balance * ducoUsdPrice;
                console.log("Balance received: " + balance + "($" + balanceusd + ")");

                balance_list = balance.toFixed(8).split(".")
                balance_before_dot = balance_list[0]
                balance_after_dot = balance_list[1]

                document.getElementById("balance")
                    .innerHTML = balance_before_dot +
                    "<span class='has-text-weight-normal'>." +
                    balance_after_dot + " ᕲ";

                balanceusd_list = balanceusd.toFixed(4).split(".")
                balanceusd_before_dot = balanceusd_list[0]
                balanceusd_after_dot = balanceusd_list[1]

                document.getElementById("balanceusd")
                    .innerHTML = "<span class='has-text-weight-normal'>≈ $</span>" + balanceusd_before_dot +
                    "." +
                    balanceusd_after_dot;

                jsonD = data.result.transactions.reverse();

                const transtable = document.getElementById("transactions");
                console.log("Transaction list received");
                if (jsonD.length > 0) {
                    let transactions = "";
                    for (i in jsonD) {
                        let classD = "has-text-success-dark";
                        let symbolD = "+";
                        if (jsonD[i].sender == username) {
                            classD = "has-text-danger";
                            symbolD = "-";
                        }
                        transactions +=
                            `<tr><td data-label="Date" class="subtitle is-size-6 has-text-grey">${jsonD[i].datetime.substr(0, jsonD[i].datetime.length - 14)}</td>` +
                            `<td data-label="Amount" class="subtitle is-size-6  ${classD}"> ${symbolD} ${jsonD[i].amount.toFixed(2)} ᕲ</td>` +
                            `<td data-label="Sender" class="subtitle is-size-6">${jsonD[i].sender}</td>` +
                            `<td data-label="Recipient" class="subtitle is-size-6">${jsonD[i].recipient}</td>` +
                            `<td data-label="Hash">` +
                            `<a class="subtitle is-size-6" style="color:#8e44ad" href="https://explorer.duinocoin.com/?search=${jsonD[i].hash}">` +
                            `${jsonD[i].hash.substr(jsonD[i].hash.length - 5)}</a>` +
                            `<td data-label="Message" class="subtitle is-size-6 has-text-grey">${jsonD[i].memo}</td></tr>`;
                        if (i >= 10) break
                    }
                    transtable.innerHTML = transactions;
                } else transtable.innerHTML = `<tr><td data-label="Date">No transactions yet</td></tr>`;

                let myMiners = data.result.miners;
                console.log("Miner data received");
                miners = document.getElementById("miners");
                miners.innerHTML = "";
                minerHashrate = document.getElementById("minerHR");

                if (myMiners.length > 0) {
                    for (miner in myMiners) {
                        if (myMiners[miner]["identifier"] == "None")
                            minerId = "";
                        else
                            minerId = myMiners[miner]["identifier"];

                        if (myMiners[miner]["diff"] >= 1000000000)
                            diffString = Math.round(myMiners[miner]["diff"] / 1000000000) + "G";
                        else if (myMiners[miner]["diff"] >= 1000000)
                            diffString = Math.round(myMiners[miner]["diff"] / 1000000) + "M";
                        else if (myMiners[miner]["diff"] >= 1000)
                            diffString = Math.round(myMiners[miner]["diff"] / 1000) + "k";
                        else
                            diffString = myMiners[miner]["diff"];

                        if (minerId != "") {
                            miners.innerHTML +=
                                "<b class='has-text-grey-light'>#" +
                                miner +
                                ":</b><b class='has-text-primary'> " +
                                minerId +
                                "</b> (" +
                                myMiners[miner]["software"] +
                                ") <b><span class='has-text-success'>" +
                                calculateHashrate(myMiners[miner]["hashrate"]) +
                                "</b></span><span class='has-text-info'> @ diff " +
                                diffString +
                                "</span>, " +
                                myMiners[miner]["accepted"] +
                                "/" +
                                (myMiners[miner]["accepted"] + myMiners[miner]["rejected"]) +
                                " <b class='has-text-success-dark'>(" +
                                Math.round(
                                    (myMiners[miner]["accepted"] /
                                        (myMiners[miner]["accepted"] + myMiners[miner]["rejected"])) *
                                    100
                                ) +
                                "%)</b><br>";
                        } else {
                            miners.innerHTML +=
                                "<b class='has-text-grey-light'>#" +
                                miner +
                                ":</b> " +
                                myMiners[miner]["software"] +
                                " <b><span class='has-text-success'>" +
                                calculateHashrate(myMiners[miner]["hashrate"]) +
                                "</b></span><span class='has-text-info'> @ diff " +
                                diffString +
                                "</span>, " +
                                myMiners[miner]["accepted"] +
                                "/" +
                                (myMiners[miner]["accepted"] + myMiners[miner]["rejected"]) +
                                " <b class='has-text-success-dark'>(" +
                                Math.round(
                                    (myMiners[miner]["accepted"] /
                                        (myMiners[miner]["accepted"] + myMiners[miner]["rejected"])) *
                                    100
                                ) +
                                "%)</b><br>";
                        }
                        totalHashes = totalHashes + myMiners[miner]["hashrate"];
                    }
                    minerHashrate.innerHTML = "Total hashrate: " + calculateHashrate(totalHashes);
                    totalHashes = 0;
                } else {
                    miners.innerHTML = "<b class='subtitle is-size-6'>No miners detected</b>" +
                        "<p class=' subtitle is-size-6 has-text-grey'>If you have turned them on recently, it will take a minute or two until their stats will appear here.</p>";
                }
            });
        }

        // PROFIT CALCULATOR
        const ProfitCalculator = () => {
            let prev_bal = curr_bal;
            curr_bal = balance;
            let daily = (((curr_bal - prev_bal) * 12) * 60) * 24;
            profitcheck++;
            if ((curr_bal - prev_bal) > 0 && profitcheck > 1) {
                // High daily profit means a transaction or big block - that value should be ignored
                if (daily < 500) {
                    // Get the average from profit calculations to not make it fluctuate as much
                    daily_average.push(daily);
                    let sum = daily_average.reduce((a, b) => a + b, 0);
                    let avg = (sum / daily_average.length) || 0;
                    avgusd = avg * ducoUsdPrice;
                    //console.log("Estimated profit sum: " + sum + ", average: " + avg);

                    avg_list = avg.toFixed(2).split(".")
                    avg_before_dot = avg_list[0]
                    avg_after_dot = avg_list[1]


                    document.getElementById("estimatedprofit")
                        .innerHTML = avg_before_dot +
                        "<span class='has-text-weight-normal'>." +
                        avg_after_dot + " ᕲ";

                    avgusd_list = avgusd.toFixed(2).split(".")
                    avgusd_before_dot = avgusd_list[0]
                    avgusd_after_dot = avgusd_list[1]

                    document.getElementById("estimatedprofitusd")
                        .innerHTML = "<span class='has-text-weight-normal'>≈ $</span>" + avgusd_before_dot +
                        "." +
                        avgusd_after_dot;
                }
            }
        };

        // ENTER KEY AS LOGIN
        let input = document.getElementById("login");
        input.addEventListener("keyup", function(event) {
            if (event.keyCode === 13) {
                event.preventDefault();
                document.getElementById("loginbutton").click();
            }
        });

        // MAIN WALLET SCRIPT
        document.getElementById('loginbutton').onclick = function() {
            document.getElementById("loginstatus")
                .innerHTML = "Connecting...";
            document.getElementById("loginbutton").classList.add("is-loading");

            let username = document.getElementById('usernameinput').value
            let password = document.getElementById('passwordinput').value

            if (username != null &&
                username != "" &&
                username != undefined &&
                password != null &&
                password != "" &&
                password != undefined) {
                let socket = new WebSocket("wss://server.duinocoin.com:15808", null, 15000, 5);

                document.getElementById('send').onclick = function() {
                    document.getElementById("sendinginfo")
                        .innerHTML = "Requesting transfer..."
                    document.getElementById("send").classList.add("is-loading");
                    let recipient = document.getElementById('recipientinput').value
                    let amount = document.getElementById('amountinput').value
                    let memo = document.getElementById('memoinput').value
                    if (recipient != null &&
                        recipient != "" &&
                        recipient != undefined &&
                        amount != null &&
                        amount != "" &&
                        amount != undefined) {
                        sending = true;

                        socket.send("SEND," + memo + "," + recipient + "," + amount + ",");
                        document.getElementById("sendinginfo").innerHTML = "Confirming transaction..."
                    } else {
                        document.getElementById("sendinginfo")
                            .innerHTML = "<span class='subtitle is-size-7 mb-2 has-text-danger'><b>Fill in the blanks first</b></span>"
                        document.getElementById("send").classList.remove("is-loading");
                        sending = false;
                        setTimeout(() => {
                            document.getElementById("sendinginfo")
                                .innerHTML = "";
                        }, 5000);
                    }
                }

                socket.onclose = function(event) {
                    alert("An error has occurred, ask for help on the discord with a photo of the developer console"); 

                    console.error("Error Code:" + event.code);

                    if(event.code == 1000) 
                        console.error("[Error] WS: Normal closure");
                    else if(event.code == 1001 || event.code == 1002) 
                        console.error("[Error] WS: Server problem.");
                    else if(event.code == 1005) 
                        console.error("[Error] WS: No status code was actually present");
                    else if(event.code == 1006) 
                        console.error("[Error] WS: The connection was closed abnormally");
                    else if(event.code == 1015) 
                        console.error("[Error] WS: The connection was closed due to a failure to perform a TLS handshake");
                    else 
                        console.error("[Error] WS: Unknown reason");
                }

                socket.onmessage = function(msg) {
                    serverMessage = msg.data;

                    if (loggedIn == false &&
                        versionReceived == false &&
                        serverMessage.includes("2.")) {
                        console.log("Version received: " + serverMessage);
                        versionReceived = true;
                    }
                    if (loggedIn == false &&
                        versionReceived) {
                        document.getElementById("loginstatus")
                            .innerHTML = "Authenticating...";
                        socket.send("LOGI," + username + "," + password + ",");
                    }
                    if (loggedIn == false &&
                        versionReceived &&
                        serverMessage.includes("OK")) {
                        console.log("User logged-in");

                        document.getElementById("loginstatus")
                            .innerHTML = "Logged in!";
                        document.getElementById("loginbutton").classList.remove("is-loading");
                        document.getElementById("wallettext")
                            .innerHTML = "<span class='has-text-weight-light'>Welcome back, <b>" + username + "!</b>";
                        document.getElementById("copyright")
                            .innerHTML = `<p class="subtitle is-size-7 has-text-grey has-text-weight-light">` +
                            `<span class="has-text-weight-normal">Duino-Coin Web Wallet</span> is developed by ` +
                            `<a href="https://github.com/revoxhere/">revox</a>, ` +
                            `<a href="https://www.instagram.com/vlegle/">Yennefer</a> & ` +
                            `<a href="https://github.com/LDarki">LDarki</a>, ` +
                            `hosted by <a href="https://kristian-kramer.com">Kristian</a>` +
                            `<br><span class="is-size-7 has-text-grey">` +
                            `2020-2021 the <a href="https://duinocoin.com">Duino-Coin</a> project` +
                            `</span>` +
                            `<span class="is-size-7 has-text-grey">` +
                            `, distributed under the ` +
                            `<a href="https://opensource.org/licenses/MIT">` +
                            `MIT license` +
                            `</a></span></p>`

                        const transtable = document.getElementById("transactions");
                        transtable.innerHTML = `<tr><td data-label="Date">Please wait...</td></tr>`;

                        $("#login").hide('fast', function() {
                            $("#wallet").show('normal', function() {
                                window.setInterval(() => {
                                    UserData(username);
                                }, 12500);

                                window.setInterval(() => {
                                    ProfitCalculator();
                                }, 7510);

                                GetData();
                                window.setInterval(() => {
                                    GetData();
                                }, 30000);

                                loggedIn = true;
                            });
                        });
                    }
                    if (loggedIn == false &&
                        versionReceived &&
                        serverMessage.includes("NO")) {
                        document.getElementById("loginstatus")
                            .innerHTML = "<span class='has-text-danger'>" + serverMessage + "</span>";
                        document.getElementById("loginbutton").classList.remove("is-loading");
                        setTimeout(() => {
                            document.getElementById("loginstatus")
                                .innerHTML = ""
                        }, 5000);
                    }
                    if (sending == true) {
                        serverMessage = serverMessage.split(",");
                        if (serverMessage[0].includes("OK")) {
                            document.getElementById("sendinginfo")
                                .innerHTML = "<span class='subtitle is-size-7 mb-2 has-text-success'><b>" +
                                serverMessage[1] +
                                "</b></span> TXID: <a href='https://explorer.duinocoin.com?search=" +
                                serverMessage[2] + "'>" +
                                serverMessage[2] +
                                "</a>";
                        } else if (serverMessage[0].includes("NO")) {
                            document.getElementById("sendinginfo")
                                .innerHTML = "<span class='subtitle is-size-7 mb-2 has-text-danger'><b>" + serverMessage[1] + "</b></span>";
                        } else {
                            document.getElementById("sendinginfo")
                                .innerHTML = "<span class='subtitle is-size-7 mb-2 has-text-warning-dark'><b>Error sending request, please try again</b></span>";
                        }
                        document.getElementById("send").classList.remove("is-loading");
                        setTimeout(() => {
                            sending = false;
                            document.getElementById("sendinginfo")
                                .innerHTML = "";
                        }, 5000);
                    }
                }
            } else {
                document.getElementById("loginstatus")
                    .innerHTML = "<span class='has-text-danger'>Fill in the blanks first</span>";
                document.getElementById("loginbutton").classList.remove("is-loading");
                setTimeout(() => {
                    document.getElementById("loginstatus")
                        .innerHTML = ""
                }, 5000);
            }
        }
    });
    </script>
</head>

<body>
    <div id="pageloader" class="pageloader is-active is-primary is-right-to-left">
        <p class="title">Duino-Coin Web Wallet</p>
        <p class="title">Duino-Coin Web Wallet</p>
    </div>
    <div class="container">
        <section class="hero is-fullheight">
            <div class="hero-body is-align-self-center">
                <div class="box">
                    <p class="title">
                        <img src="https://github.com/revoxhere/duino-coin/blob/master/Resources/NewWallet.ico?raw=true" class="icon">
                        <span id="wallettext">
                            Duino-Coin
                            <span class="has-text-weight-light">
                                Web Wallet
                            </span>
                            <span class="subtitle is-size-7 has-text-weight-normal">
                                v2.5.6
                            </span>
                        </span>
                    </p>
                    <p class="subtitle is-size-7 has-text-grey-dark has-text-weight-light" id="copyright">
                        ©
                        <a href="https://github.com/revoxhere/">revox</a>,
                        <a href="https://www.instagram.com/vlegle/">Yennefer</a>,
                        <a href="https://github.com/LDarki">LDarki</a>
                        &
                        <a href="https://kristian-kramer.com">Kristian</a>
                        <span>
                            &middot;
                            distributed under the
                            <a href="https://opensource.org/licenses/MIT">
                                MIT license
                            </a>
                        </span>
                    </p>
                    <section id="login">
                        <div class="column">
                            <!-- <p style="color:red">Warning: server is under maintenance<br>There may be some access issues.</p>-->
                            <div class="field">
                                <label for="" class="label">Username</label>
                                <div class="control has-icons-left">
                                    <input type="text" id="usernameinput" placeholder="e.g. revox" class="input" required>
                                    <span class="icon is-small is-left">
                                        <i class="fa fa-user"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="field">
                                <label for="" class="label">Password</label>
                                <div class="control has-icons-left">
                                    <input type="password" id="passwordinput" placeholder="*******" class="input" required>
                                    <span class="icon is-small is-left">
                                        <i class="fa fa-lock"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="field mt-5">
                                <div class="buttons">
                                    <button class="button is-duco is-warning" id="loginbutton">
                                        <i class="fa fa-fw fa-check"></i>&nbsp;
                                        Login
                                    </button>
                                    <a href="https://wallet.duinocoin.com/register" class="button is-secondary is-outlined" id="loginbutton">
                                        <i class="fa fa-sign-in-alt fa-fw"></i>&nbsp;
                                        Register
                                    </a>
                                    <p class="subtitle has-text-grey is-size-7 mb-1" id="loginstatus">Please enable JavaScript!</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="wallet" style="display: none;">
                        <div class="container">
                            <div class="columns">
                                <div class="column">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-wallet fa-fw" style="color:#fdcb6e;"></i>
                                            DUCO BALANCE
                                        </p>
                                        <p class="title">
                                            <span id="balance">
                                                Please wait...
                                            </span>
                                            <span class="subtitle is-size-6" id="balanceusd" style="white-space: nowrap">
                                            </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="column">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-coins fa-fw" style="color:#ff6b6b;"></i>
                                            EST. DAILY PROFIT
                                        </p>
                                        <p class="title">
                                            <span id="estimatedprofit">
                                                Please wait...
                                            </span>
                                            <span class="subtitle" id="estimatedprofitusd">
                                            </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="column">
                                    <div class="box">
                                        <div class="columns">
                                            <div class="column">
                                                <p class="subtitle has-text-weight-light">
                                                    <i class="fa fa-money-bill-wave fa-fw" style="color:#0abde3;"></i>
                                                    DUCO PRICE
                                                </p>
                                                <p class="title">
                                                    <span id="ducousd">
                                                        Please wait...
                                                    </span>
                                                </p>
                                            </div>
                                            <div class="is-hidden-mobile">
                                                <a href="https://explorer.duinocoin.com#Charts">
                                                    <img style="width:7em" src="https://server.duinocoin.com/mini_prices.png">
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="columns">
                                <div class="column is-one-third">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-newspaper fa-fw" style="color:#6ab04c;"></i>
                                            NEWS
                                        </p>
                                        <iframe src="https://server.duinocoin.com/news.html" frameborder="0" style="word-break:break-all;width:100%;overflow:auto;height:13em;" width="100%" allowtransparency="true">Please wait...</iframe>
                                    </div>
                                </div>
                                <div class="column is-one-third">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-share fa-fw" style="color:#17c0eb;"></i>
                                            SEND MONEY
                                        </p>
                                        <label class="label">Recipient</label>
                                        <div class="control has-icons-left is-expanded">
                                            <input type="text" id="recipientinput" placeholder="e.g. Bilaboz" class="input" required>
                                            <span class="icon is-small is-left">
                                                <i class="fa fa-user"></i>
                                            </span>
                                        </div>
                                        <div class="columns">
                                            <div class="column">
                                                <label class="label mt-2">Amount</label>
                                                <div class="control has-icons-left is-expanded">
                                                    <input type="number" id="amountinput" placeholder="12.3456789" class="input" required>
                                                    <span class="icon is-small is-left">
                                                        <i class="fa fa-coins"></i>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="column">
                                                <label class="label mt-2">
                                                    Message
                                                    <span class="subtitle is-size-7">
                                                        (optional)
                                                    </span>
                                                </label>
                                                <div class="control has-icons-left is-expanded">
                                                    <input type="test" id="memoinput" placeholder="Kolka payment" class="input" required>
                                                    <span class="icon is-small is-left">
                                                        <i class="fa fa-envelope"></i>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="button is-info is-outlined is-fullwidth" id="send">
                                            <i class="fa fa-fw fa-paper-plane"></i>&nbsp;
                                            Transfer funds
                                        </button>
                                        <span class="subtitle mb-2 has-text-grey is-size-7" id="sendinginfo"></span>
                                    </div>
                                </div>
                                <div class="column is-one-third">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-chart-bar fa-fw" style="color:#e17055;"></i>
                                            YOUR MINERS
                                        </p>
                                        <div style="height:11.6em;overflow:auto;">
                                            <span id="miners">Please wait...</span>
                                        </div>
                                        <p class="title is-size-6 mt-3">
                                            <i class="fa fa-tachometer-alt fa-fw" style="color:#ff9f43;"></i>&nbsp;
                                            <span id="minerHR">Please wait...</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="columns">
                                <div class="column is-half">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-list-ul fa-fw" style="color:#8e44ad;"></i>
                                            LAST TRANSACTIONS
                                        </p>
                                        <div class="balanceT">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th scope="col">Date</th>
                                                        <th scope="col">Amount</th>
                                                        <th scope="col">Sender</th>
                                                        <th scope="col">Recipient</th>
                                                        <th scope="col">Hash</th>
                                                        <th scope="col">Message</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="transactions">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="column is-half">
                                    <div class="box">
                                        <p class="subtitle has-text-weight-light">
                                            <i class="fa fa-calculator fa-fw" style="color:#2ecc71;"></i>
                                            EARNINGS CALCULATOR
                                            <span class="tag is-success is-light">
                                                BETA
                                            </span>
                                        </p>
                                        <div class="columns">
                                            <div class="column is-half">
                                                <div class="field">
                                                    <label class="label">Hashrate (DUCO-S1)</label>
                                                    <div class="control">
                                                        <div class="field has-addons">
                                                            <div class="control">
                                                                <input class="input" id="input-hashrate" type="number" max="1000" min="1" value="1.2">
                                                            </div>
                                                            <p class="control">
                                                                <span class="select">
                                                                    <select id="multiplier">
                                                                        <option value="1000">MH/s</option>
                                                                        <option value="1">kH/s</option>
                                                                    </select>
                                                                </span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="field">
                                                    <label class="label">Estimated profit</label>
                                                    <div class="control">
                                                        <div class="field has-addons">
                                                            <div class="control">
                                                                <div class="control">
                                                                    <p class="tag is-success is-medium" id="values">
                                                                        5.82 ᕲ/day
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="column is-half">
                                                <div class="field">
                                                    <label class="label">Devices</label>
                                                    <div class="control">
                                                        <div class="field has-addons">
                                                            <div class="control">
                                                                <input class="input" id="input-devices" type="number" max="25" min="1" value="1">
                                                            </div>
                                                            <p class="control">
                                                                <span class="select">
                                                                    <select id="device-type">
                                                                        <option value="AVR">Arduino(s)</option>
                                                                        <option value="ESP8266">ESP8266(s)</option>
                                                                        <option value="ESP32">ESP32(s)</option>
                                                                    </select>
                                                                </span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="field">
                                                    <label class="label">Estimated profit</label>
                                                    <div class="control">
                                                        <div class="field has-addons">
                                                            <div class="control">
                                                                <p class="tag is-success is-medium" id="values-devices">
                                                                    7.68 ᕲ/day
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <b class="subtitle is-size-6">
                                            DUCO earnings depend on many factors.
                                        </b>
                                        <p class="subtitle is-size-6 has-text-grey">
                                            Estimations will be more accurate when more data will be gathered.
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="columns">
                                <div class="column">
                                    <div class="buttons">
                                        <div class="control has-icons-left mb-2 mr-2">
                                            <div class="select is-normal">
                                                <select id="themesel">
                                                    <option selected value="light">Duino Light</option>
                                                    <option value="material">Metro</option>
                                                    <option value="dark">Duino Dark</option>
                                                    <option value="crisp">Crisp</option>
                                                    <option value="radiance">Nuclear</option>
                                                    <option value="altlight">Sleek</option>
                                                </select>
                                            </div>
                                            <span class="icon is-small is-left">
                                                <i class="fas fa-sun"></i>
                                            </span>
                                        </div>
                                        <a href="http://51.15.127.80/webminer.html" class="button is-secondary">
                                            <img class="icon is-small" src="https://raw.githubusercontent.com/revoxhere/duino-coin/master/Resources/NewWebMiner.png">
                                            <span>Web Miner</span>
                                        </a>
                                        <a href="https://github.com/revoxhere/duino-coin" class="button is-secondary">
                                            <i class="fab fa-fw fa-github icon is-small"></i>
                                        </a>
                                        <a href="https://discord.gg/kvBkccy" class="button is-secondary">
                                            <i class="fab fa-fw fa-discord icon is-small"></i>
                                        </a>
                                        <a href="https://revoxhere.github.io/duco-exchange/" class="button is-secondary">
                                            <img class="icon is-small" src="https://raw.githubusercontent.com/revoxhere/duco-exchange/master/ducoexchangev3logo.png">
                                            <span>DUCO Exchange</span>
                                        </a>
                                        <a href="http://www.node-s.co.za/duco_exchange/home" class="button is-secondary">
                                            <img src="https://github.com/revoxhere/playground/blob/master/nodes_logo.jpg?raw=true" class="icon is-small">
                                            <span>Node-S Exchange</span>
                                        </a>
                                        <a href="https://explorer.duinocoin.com" class="button is-secondary">
                                            <img src="https://raw.githubusercontent.com/revoxhere/duino-coin/master/Resources/explorer.png" class="icon is-small">
                                            <span>Network stats</span>
                                        </a>
                                        <a href="https://lulaschkas.github.io/duco-mining-dashboard/" class="button is-secondary">
                                            <img src="https://lulaschkas.github.io/duco-mining-dashboard/img/ducominingdashboarddark.png" class="icon is-small">
                                            <span>Lulaschkas' Mining Dashboard</span>
                                        </a>
                                        <a href="https://siunus.github.io/duco-monitor/" class="button is-secondary">
                                            <img class="icon is-small" src="https://siunus.github.io/duco-monitor/favicon.ico">
                                            <span>Siunus' DUCO Monitor</span>
                                        </a>
                                        <a href="https://duinocoin.com/donate" class="button is-secondary">
                                            <i class="fa fa-fw fa-heart icon is-small" style="color:#eb4d4b;"></i>&nbsp;
                                            <span>Donate</span>
                                        </a>
                                        <a href="https://bulma.io" class="button is-secondary">
                                            <span>Made with</span>&nbsp;&nbsp;
                                            <img class="image" width="16em" src="https://seeklogo.com/images/B/bulma-logo-45B5145BF4-seeklogo.com.png" alt="Bulma">&nbsp;
                                            <span><b>BULMA</b></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </section>
    </div>
</body>

</html>
<script>
let pageloader = document.getElementById("pageloader"); // PAGE LOAGER
window.addEventListener('load', function() {
    pageloader.setAttribute('class', "pageloader is-primary is-left-to-right"); // After page is loaded
});
</script>
<script>
let multiplier = document.getElementById('multiplier');
let input = document.getElementById('input-hashrate');
let log = document.getElementById('values');

multiplier.addEventListener('input', updateValue);
input.addEventListener('input', updateValue);


function floatmap(x, in_min, in_max, out_min, out_max) {
    return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min
}

function updateValue(e) {
    hashrate = e.target.value * multiplier.value;

    /* https://github.com/revoxhere/duino-coin#some-of-the-officially-tested-devices-duco-s1 */
    result = (0.0026 * hashrate) + 2.7
    if (hashrate > 8000) result = floatmap(result, 25, 1000, 25, 40); // extreme diff tier, TODO

    if (hashrate < 1) log.textContent = "0 ᕲ/day";
    if (hashrate < 1) log.textContent = "0 ᕲ/day";
    else log.textContent = result.toFixed(2) + " ᕲ/day";
}
</script>
<script>
let device = document.getElementById('device-type');
let input_devices = document.getElementById('input-devices');
let log_devices = document.getElementById('values-devices');

device.addEventListener('input', updateValue);
input_devices.addEventListener('input', updateValue);

function updateValue(e) {
    if (device.value == "AVR") basereward = 8
    if (device.value == "ESP8266") basereward = 6
    if (device.value == "ESP32") basereward = 7
    /* https://github.com/revoxhere/duino-coin#some-of-the-officially-tested-devices-duco-s1 */
    result = 0;
    for (i = 0; i < input_devices.value; i++) {
        result += basereward;
        basereward *= 0.96;
    }
    log_devices.textContent = result.toFixed(2) + " ᕲ/day";
}
</script>
